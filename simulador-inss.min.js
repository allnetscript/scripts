(function(global) {
  function calcularINSS() {
    var valorStr = document.getElementById('valor-inss').value;
    valorStr = valorStr.replace(/\./g, "").replace(',', '.');
    var principal = parseFloat(valorStr) || 0;
    var i = 0.0185; // Taxa de 1,85% ao mês
    var n = 96;    // 96 parcelas
    var parcela = principal * ((i * Math.pow(1 + i, n)) / (Math.pow(1 + i, n) - 1));
  
    document.getElementById('inss-parcela').innerHTML =
      'Parcela: <strong>' + parcela.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' }) + '</strong>';
    document.getElementById('inss-parcelas').innerHTML =
      'Parcelas: <strong>' + n + ' vezes</strong>';
    document.getElementById('inss-taxa').innerHTML =
      'Taxa de juros (ao mês): <strong>1,85%</strong>';
    document.getElementById('inss-cet').innerHTML =
      'CET: <strong>22,00%</strong>';
  }
  global.calcularINSS = calcularINSS;
})(window);
